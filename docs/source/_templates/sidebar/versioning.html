{% if versions %}

{%- macro option(item) -%}
<option value="{{ item.url }}" {% if item.url.split('/') | length is eq 1 -%} selected {%- endif %}>
  {{ caller() }} {% if item == latest_version -%} (latest) {%- endif %}
</option>
{%- endmacro -%}

<div class="sidebar-versions">
  <label for="__versions">
    <strong>{{ _('Versions') }}:</strong>
  </label>
  <select name="__versions" id="__versions" onchange="window.location.href=this.value;">
    {% if versions.branches | length is gt 0 -%}
    {% call option(versions.branches | first) -%} development {%- endcall %}
    {%- endif %}
    {% for item in versions.tags | sort(reverse=True) -%}
    {% call option(item) -%} {{ item.name }} {%- endcall %}
    {%- endfor %}
  </select>
</div>
{% endif %}